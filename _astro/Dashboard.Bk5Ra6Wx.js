import{S}from"./StandingsTable.CrOi4WaW.js";import{u as g}from"./useSavedLeagues.DgE0FwhZ.js";/* empty css                           */import{_ as I}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{e as o,x as h,j as r,t as v,F as j,g as w,r as b,d as u,o as y,f as l,k as O}from"./runtime-core.esm-bundler.CuikW7FQ.js";import"./runtime-dom.esm-bundler.BlR9lSv_.js";/* empty css                           */const q={__name:"Dashboard",props:{standings:{type:Object,required:!0},results:{type:Array,required:!0},schedule:{type:Array,required:!0},clubs:{type:Object,required:!0},info:{type:Object,required:!0},leagues:{type:Object,required:!0}},setup(_,{expose:i}){i();const t=_,e=b(null),{savedLeagues:c}=g(),m=u(()=>!e.value||!t.standings?[]:Object.entries(t.standings).filter(([a,n])=>n.hasOwnProperty(e.value)).map(([a])=>a)),s=u(()=>c.value.length?m.value.filter(a=>c.value.includes(a)):[]),L=u(()=>{if(!e.value||!t.schedule)return{};const a={};for(const n of s.value)a[n]=t.schedule.filter(d=>d.league_id===n&&(d.home_id===e.value||d.away_id===e.value));return a}),k=u(()=>{if(!e.value||!t.results)return{};const a={};for(const n of s.value)a[n]=t.results.filter(d=>d.league_id===n&&(d.home_id===e.value||d.away_id===e.value));return a});y(()=>{const a=new URLSearchParams(window.location.search);e.value=a.get("id")});const f={props:t,teamId:e,savedLeagues:c,leaguesForTeam:m,filteredLeaguesForTeam:s,scheduleByLeague:L,resultsByLeague:k,ref:b,computed:u,onMounted:y,StandingsTable:S,get useSavedLeagues(){return g}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}},x={key:0},T={class:"card"},B={class:"card-body d-flex align-items-center"},F=["src"],N={class:"card-title"},A={class:"card-footer"},D=["href"],M=["href"],P={key:0},V={key:1};function p(_,i,t,e,c,m){return e.teamId?(l(),o("div",x,[r("div",T,[r("div",B,[t.clubs[e.teamId]?.logo?(l(),o("img",{key:0,src:t.clubs[e.teamId].logo,alt:"Team Logo",width:"128",height:"128"},null,8,F)):h("",!0),r("h5",N,v(t.clubs[e.teamId]?.name||e.teamId),1)]),r("div",A,[r("a",{href:t.info[e.teamId]?.url,class:"card-link"},"Website",8,D),r("a",{href:"mailto:"+t.info[e.teamId]?.email,class:"card-link"},"Email",8,M)])]),i[1]||(i[1]=r("h2",{class:"mt-5"},"Standings",-1)),(l(!0),o(j,null,w(e.filteredLeaguesForTeam,s=>(l(),o("div",{key:"standings-"+s+e.teamId,class:"mb-4"},[r("h3",null,v(t.leagues[s]||s),1),t.standings[s]&&t.standings[s][e.teamId]?(l(),o("div",P,[O(e.StandingsTable,{standings:t.standings[s],clubs:t.clubs,lastModified:t.standings[s][e.teamId]?.date_modified||"N/A"},null,8,["standings","clubs","lastModified"])])):(l(),o("div",V,i[0]||(i[0]=[r("p",null,"No standings for this league.",-1)])))]))),128))])):h("",!0)}const H=I(q,[["render",p],["__scopeId","data-v-a3e1e04e"]]);export{H as default};
